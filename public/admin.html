<script src="/socket.io/socket.io.js"></script>
<script>
  // Беремо токен з URL (наприклад ?token=SECRET)
  const urlParams = new URLSearchParams(window.location.search);
  const token = urlParams.get('token') || '';

  // Підключення до сервера з токеном
  const socket = io({
    auth: { token }
  });

  // Отримання повідомлень від користувачів
  socket.on("user message", (data) => {
    const chat = document.getElementById("chat");
    const item = document.createElement("div");
    item.textContent = `Користувач ${data.id}: ${data.text}`;
    chat.appendChild(item);
  });

  // Приклад відправки відповіді користувачу
  function sendMessageToUser(userId, text) {
    socket.emit("admin message", { id: userId, text });
  }
</script>
